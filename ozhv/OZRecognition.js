function OZRecognitionPack(t){const i=OZRecognitionPack.prototype;t==OZRecognitionPack.t&&(this.i=new window.OZCardRecognizer),t==OZRecognitionPack.h&&(this.o=new window.OZSealRecognizer),this.l=0,this.u="",this.v="",this.g="",this.p={},this.$=0,i.SetResultMimeType=function(t){this.g=t},i.GetResultMimeType=function(){return""==this.g?"image/png":this.g},i.O=function(t){const i=document.createElement("canvas");i.width=t.cols,i.height=t.rows,i.setAttribute("style","display:none;"),cv.imshow(i,t);let n=null;return n=""==this.g?i.toDataURL():i.toDataURL(this.g),$(i).remove(),n},i.GetPreprocessingImage=function(){return this.u},i.GetPostprocessingImage=function(){return this.v},i.Z=function(){return this.i.Z()},i.GetSealSize=function(){return this.$},i.SetSpecBarcode=function(t,i){return this.o.k(t,i)},i.GetSpecBarcode=function(){return this.p},i.R=function(){return this.o.R()},i.P=function(){return this.o.P()},i.m=function(){return this.o.m()},i.I=function(t,i,n,s,h,e){for(let c=0;c<h;c+=e)for(let h=0;h<s;h+=e){const s=this.S(t,i+h,n+c,3*e,3*e);this.fillRect(t,i+h,n+c,e,e,s)}},i.C=function(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296},i.S=function(t,i,n,s,h){return i+s>t.cols&&(s=t.cols-i<=0?1:t.cols-i),n+h>t.rows&&(h=t.rows-n<=0?1:t.rows-n),i>t.cols&&(i=t.cols-1),n>t.rows&&(n=t.rows-1),t.ucharPtr(n+this.C()%h,i+this.C()%s)},i.fillRect=function(t,i,n,s,h,e){i+s>t.cols&&(s=t.cols-i),n+h>t.rows&&(h=t.rows-n);for(let c=0;c<h;c++)for(let h=0;h<s;h++)t.ucharPtr(n+c,i+h)[0]=e[0],t.ucharPtr(n+c,i+h)[1]=e[1],t.ucharPtr(n+c,i+h)[2]=e[2],t.ucharPtr(n+c,i+h)[3]=e[3]},i.N=function(t,i,n,s,h,e,c,o,l,r){let u=998,a=null;try{if(this.i.ready(i,n,h,e,l)){let i;const h=s.M,e=s.A;if(r){i=this.i.T(n,this.i.U(t,h),this.i.U(t,e)),this.u=this.O(i);let c=this.i.U(t,.07);c<6&&(c=6);for(let n=0;n<s.item.length;n++){const h=parseInt(this.i.U(t,s.item[n].left)),e=parseInt(this.i.U(t,s.item[n].top)),o=parseInt(this.i.U(t,s.item[n].width)),l=parseInt(this.i.U(t,s.item[n].height));this.I(i,h,e,o,l,c)}this.v=this.O(i),i.delete(),i=null,this.i._=null,this.i.dispose(),this.i=null,this.l=0,u=999}else if(this.i.find(this.l++)){const l=this.i.U(t,h),r=this.i.U(t,e);let a=this.i.U(t,s.j+.2);const f=.3*l;a>f&&(a=parseInt(f));const v=parseInt(a*(o/c));i=this.i.capture(n,l,r,a,v),this.u=this.O(i);const w=(l-2*a)/l,d=(r-2*v)/r;let g=this.i.U(t,.07);g<6&&(g=6);for(let n=0;n<s.item.length;n++){const h=this.i.U(t,s.item[n].left),e=this.i.U(t,s.item[n].top),c=this.i.U(t,s.item[n].width),o=this.i.U(t,s.item[n].height),l=parseInt(h*w)+a,r=parseInt(e*d)+v,u=parseInt(c*w),f=parseInt(o*d);this.I(i,l,r,u,f,g)}this.v=this.O(i),i.delete(),i=null,this.i.dispose(),this.i=null,this.l=0,u=999}}}catch(t){throw OZRecognitionPack.trace(t),null!=a&&(a.delete(),a=null),this.i.dispose(),this.i=null,new Error(t)}return u},i.V=function(t,i,n,s,h,e,c){let o=998;if(this.o.ready(t,i,n,s)){try{if(0!=e&&0!=c&&this.o.k(e,c),this.o.L()&&this.o.capture()&&!this.o.D().empty()){let t=this.o.D();if(this.p=this.o.F(),this.u=this.O(t),this.$=t.cols,h!=OZSealRecognizer.NONE){const i=new cv.Mat;cv.cvtColor(t,i,cv.COLOR_RGB2GRAY);let n=!1,s=!1,e=!1,c=!1,o=0,l=0,r=0;switch(h){case OZSealRecognizer.q:n=!0;break;case OZSealRecognizer.B:o=255,s=!0;break;case OZSealRecognizer.G:s=!0,e=!0;break;case OZSealRecognizer.H:o=255,s=!0,e=!0;break;case OZSealRecognizer.J:c=!0}let u=0!=o||0!=l||0!=r;if(c)t=i;else{cv.adaptiveThreshold(i,t,255,cv.ADAPTIVE_THRESH_MEAN_C,cv.THRESH_BINARY,201,10);const n=cv.Mat.zeros(t.rows,t.cols,cv.CV_8UC3);if(cv.cvtColor(t,n,cv.COLOR_GRAY2BGRA),s)for(let t=0;t<n.rows;++t)for(let i=0;i<n.cols;++i){const s=n.ucharPtr(t,i);let h=!1;e&&255==s[0]&&255==s[1]&&255==s[2]&&(s[3]=0,h=!0),u&&!h&&0==s[0]&&0==s[1]&&0==s[2]&&(s[0]=o,s[1]=l,s[2]=r,s[3]=255,h=!0)}t=n}(n||s)&&cv.blur(t,t,new cv.Size(3,3)),this.v=this.O(t);const a=function(t){try{var i,n=t.length,s=8192;if(n<=s)i=String.fromCharCode.apply(null,t);else if(void 0!==t.slice){i="";for(var h=0;h<n;h+=s){var e=t.slice(h,h+s);i+=String.fromCharCode.apply(null,e)}}else{i="";for(h=0;h<n;h++)i+=String.fromCharCode(t[h])}return window.btoa(i)}catch(t){return""}},f=function(t){try{const i=window.atob(t),n=i.length;let s=new Uint8Array(n);for(let t=0;t<n;t++)s[t]=i.charCodeAt(t);return s}catch(t){return null}},v=function(t,i){return(255&t[i])<<24|(255&t[i+1])<<16|(255&t[i+2])<<8|255&t[i+3]},w=function(t,i,n){n&=4294967295,t[i+3]=255&n,t[i+2]=n>>>8&255,t[i+1]=n>>>16&255,t[i+0]=n>>>24&255},d=function(){const t=[];for(let n=0;n<256;n++){let s=n;for(var i=8;--i>=0;)0!=(1&s)?s=3988292384^s>>>1:s>>>=1;t[n]=s}return t}(),g=function(t,i,n){w(t,i,9),w(t,i+4,1883789683);let s=0;const h=new Uint8Array(9);w(h,0,n),w(h,4,n),h[8]=1;{let t=~s,i=h.length,n=0;for(;--i>=0;)t=d[255&(t^h[n++])]^t>>>8;s=~t,s&=4294967295}t.set(h,i+8),w(t,i+17,s)},p=function(t,i){w(t,i,16),w(t,i+4,1950701684);let n=0;const s=new Uint8Array(16);w(s,0,1399809652),w(s,4,2002874981),w(s,8,5200467),w(s,12,1700883505);{let t=~n,i=s.length,h=0;for(;--i>=0;)t=d[255&(t^s[h++])]^t>>>8;n=~t,n&=4294967295}t.set(s,i+8),w(t,i+24,n)},$=function(t,i){let n=0;if(n+4>t.length)return null;const s=v(t,n)>>>0;if(n+=4,n+4>t.length)return null;const h=v(t,n)>>>0;if(n+=4,2303741511!=s||218765834!=h)return null;let e=!1,c=-1;for(;!(n+4>t.length);){const s=v(t,n);if(n+=4,n+4>t.length)break;const h=v(t,n)>>>0;if(n+=4,1883789683==h){if(n+4>t.length)break;const s=v(t,n)>>>0;if(n+=4,n+4>t.length)break;const h=v(t,n)>>>0;if(n+=4,n+1>t.length)break;const c=(i/=.0254)+.5|0;if(1==(255&t[n])&&c==s&&c==h&&e)return null;n-=16;const o=new Uint8Array(t.length+(e?0:28));o.set(t.subarray(0,n),0);let l=0;return e||(p(o,n),l=28),g(o,n+l,c),o.set(t.subarray(n+21,t.length),n+l+21),o}if(1950701684==h){if(16==s){if(n+16>t.length)break;const i=v(t,n)>>>0;n+=4;const s=v(t,n)>>>0;n+=4;const h=v(t,n)>>>0;n+=4;const c=v(t,n)>>>0;n+=4,1399809652==i&&2002874981==s&&5200467==h&&1700883505==c&&(e=!0),n-=16}}else{if(1229209940==h){c=n-8;break}if(1229278788==h)break}n+=s,n+=4}if(c>=0){const n=(i/=.0254)+.5|0,s=new Uint8Array(t.length+21+(e?0:28));s.set(t.subarray(0,c),0);let h=0;return e||(p(s,c),h=28),g(s,c+h,n),s.set(t.subarray(c,t.length),c+h+21),s}return null},y=this.v;if(y.length>=5&&"data:"==y.substr(0,5).toLowerCase()&&(nIndex=y.indexOf(";base64,"),nIndex<0&&(nIndex=y.toLowerCase().indexOf(";base64,")),nIndex>0)){const i=f(y.substring(nIndex+8)),n=$(i,2.54*t.cols/this.p.areaWidth);n&&(this.v="data:image/png;base64,"+a(n))}}t.delete(),t=null,this.o._=null,this.o.dispose(),this.o=null,o=999}}catch(t){throw OZRecognitionPack.trace(t),this.o.dispose(),this.o=null,new Error(t)}return o}},i.dispose=function(){this.i&&(this.i.dispose(),this.i=null),this.o&&(this.o.dispose(),this.o=null),this.u=null,this.v=null,this.p=null,this.$=null}}function OZCardPreview(t){const i=OZCardPreview.prototype;this.K=null,this.W=null,this.X=null,this.Y=t,this.tt=!1,this.it=!0,this.nt=0,this.st=0,this.ht=0,this.et=null,this.ct=null,this.ot=null,this.lt=null,this.rt={},this.ut=null,this.ft=null,this.vt=null,this.wt=!1,this.dt=null,this.gt=null,this.$t=null,this.yt=null,this.Ot=0,this.Zt=0,this.kt=1280,this.Rt=720,this.Pt=null,this.g="",i.Dispose=function(){this.bt(),this.K&&(this.dt=null,this.gt=null,$(this.K).remove(),this.K=null),this.vt&&(this.vt.dispose(),this.vt=null),this.$t&&(this.$t.delete(),this.$t=null),this.Y=null,this.rt=null,this.yt=null,this.et=null,this.ct=null,this.ot=null,this.lt=null},i.It=function(){const t={audio:!1,video:{}};let i={exact:"environment"};this.wt&&(i="user"),t.video.facingMode=i;let n={},s={};n.min=this.kt,s.min=this.Rt,n.ideal=this.Ot,s.ideal=this.Zt,window.innerWidth>window.innerHeight?(t.video.width=n,t.video.height=s):(t.video.width=s,t.video.height=n),t.video.advanced=[{focusMode:"continuous"}],this.rt=t},i.xt=function(){this.It();const t=this;navigator.mediaDevices.getUserMedia(this.rt).then((function(i){if("srcObject"in t.dt)t.dt.srcObject=i;else{var n=window.URL||window.webkitURL;t.dt.src=n.createObjectURL(i)}t.ut=i.getVideoTracks(),t.dt.onloadedmetadata=function(i){t.dt.play(),t.dt.width=t.dt.videoWidth,t.dt.height=t.dt.videoHeight,t.St()}})).catch((function(i){t.wt?(OZRecognitionPack.trace(i.name+": "+i.message),t.FindAreaFromFile(t.yt)):(t.wt=!0,t.xt())}))},i.St=function(){if(this.ut){var t=this.ut[0];if(t&&t.applyConstraints)if(!this.dt.paused&&!this.dt.ended){const t=700,i=this.dt,n=this.gt,s=this.gt.getContext("2d");try{this.vt=new OZRecognitionPack(OZRecognitionPack.t),this.vt.SetResultMimeType(this.g);const h=this.Y,e=this.zt(i.videoWidth,i.videoHeight),c=e.Ct,o=e.Nt;n.width=e.Mt,n.height=e.At,this.Tt(n.width,n.height);const l=parseInt(this.Et.x-this.ct.x),r=parseInt(this.Et.y-this.ct.y);this.$t=new cv.Mat(r,l,cv.CV_8UC4),this.Ut(1);const u=this;this.ft=setInterval((function(){s.drawImage(i,c,o,n.width,n.height,0,0,n.width,n.height),u.$t.data.set(s.getImageData(parseInt(u.ct.x),parseInt(u.ct.y),l,r).data);try{999==u.vt.N(h,n,u.$t,u.et,u.ot,u.lt,u.st,u.ht,!0,u.tt)&&(u.Ut(2),u.$t.delete(),u.$t=null,clearInterval(u.ft),setTimeout((function(){u.bt(),u.yt(!0),$(u.K).css("display","none")}),500))}catch(t){u.bt(),OZRecognitionPack.trace(t.name+": "+t.message),u.$t&&(u.$t.delete(),u.$t=null)}}),t)}catch(t){OZRecognitionPack.trace(t.name+": "+t.message),this.$t&&(this.$t.delete(),this.$t=null)}}}else OZRecognitionPack.trace("!videoTracks")},i.StartCapture=function(){this.bt(),this.xt()},i.bt=function(){this.ft&&(clearInterval(this.ft),this.ft=null),this.ut&&(this.ut.forEach((function(t){t.stop()})),this.ut=null),this.dt&&("srcObject"in this.dt?this.dt.srcObject=null:this.dt.src=null)},i.ShowPreviewOn=function(t,i,n,s){this.yt=s,this.K=document.createElement("div"),$(this.K).css("width",i),$(this.K).css("height",n),$(this.K).css("display","flex");let h=0;h=i>n?.05*i:.05*n,this.Ot=i-h,this.Zt=n-h;const e=document.createElement("div");$(e).css("border","1px solid black").css("overflow","hidden").css("margin","auto").css("background-color","black");const c=document.createElement("video");$(c).attr("playsinline",""),$(c).css("display","block").css("object-fit","cover").css("margin","auto").css("width",this.Ot).css("height",this.Zt),this.dt=c;const o=document.createElement("canvas");return $(o).css("margin","auto").css("display","none"),this.W=document.createElement("canvas"),$(this.W).css("margin","auto").css("position","absolute").css("width",this.Ot).css("height",this.Zt),this.X=document.createElement("canvas"),$(this.X).css("margin","auto").css("position","absolute").css("width",this.Ot).css("height",this.Zt),$(e).append(this.W).append(this.X).append(c).append(o),$(this.K).append(e),this.gt=o,$(t).append(this.K),this.K},i.zt=function(t,i){const n={Ct:0,Nt:0};return n.Mt=t,n.At=i,n.Mt/this.Ot>n.At/this.Zt?(n.Mt=this.Ot*n.At/this.Zt,n.Ct+=(t-n.Mt)/2):(n.At=this.Zt*n.Mt/this.Ot,n.Nt+=(i-n.At)/2),n},i.Tt=function(t,i){let n=t,s=i;this.nt=parseInt(.3*Math.min(n,s));const h=this.et.A/this.et.M,e=s-this.nt,c=n-this.nt;let o=e,l=e/h;l>c&&(l=c,o=c*h),this.st=l+this.nt,this.ht=o+this.nt,this.ct=new cv.Point((n-this.st)/2,(s-this.ht)/2),this.Et=new cv.Point(this.ct.x+this.st,this.ct.y+this.ht),this.ot=[],this.ot.push(new cv.Rect(0,0,this.nt,this.nt)),this.ot.push(new cv.Rect(this.st-this.nt,0,this.nt,this.nt)),this.ot.push(new cv.Rect(this.st-this.nt,this.ht-this.nt,this.nt,this.nt)),this.ot.push(new cv.Rect(0,this.ht-this.nt,this.nt,this.nt)),this.lt=this._t(this.nt/2,this.st,this.ht)},i._t=function(t,i,n){return pScanAreaCenterPoint=[],pScanAreaCenterPoint.push(new cv.Point(t,t)),pScanAreaCenterPoint.push(new cv.Point(i-t,t)),pScanAreaCenterPoint.push(new cv.Point(i-t,n-t)),pScanAreaCenterPoint.push(new cv.Point(t,n-t)),pScanAreaCenterPoint},i.Ut=function(t){let i=this.W.getContext("2d");i.clearRect(0,0,this.W.width,this.W.height),i.beginPath(),i.strokeStyle=0==t?"rgb(255, 255, 255)":1==t?"rgb(255, 178, 150)":2==t?"rgb(254, 100, 46)":"rgb(255, 255, 255)",i.lineWidth=1.5;let n=this.W.width,s=this.W.height;const h=parseInt(.3*Math.min(n,s)),e=this.et.A/this.et.M,c=s-h,o=n-h;let l=c,r=c/e;r>o&&(r=o,l=o*e);const u=r+h,a=l+h,f=new cv.Point((n-u)/2,(s-a)/2),v=this._t(h/2,u,a),w=f.x+v[0].x,d=f.y+v[0].y;if(i.rect(w,d,v[1].x-v[0].x,v[2].y-v[1].y),i.stroke(),this.it&&0==t){i=this.X.getContext("2d"),i.clearRect(0,0,this.X.width,this.X.height);const t=(u-h)/this.et.M;for(let n=0;n<this.et.item.length;n++){i.beginPath(),i.lineWidth=.5,i.strokeStyle="rgb(66, 133, 244)",i.fillStyle="rgba(0, 255, 0, 0.3)";const s=this.et.item[n];i.rect(w+s.left*t,d+s.top*t,s.width*t,s.height*t),i.stroke(),i.fill()}}},i.IsShown=function(){return null!=this.K},i.FindAreaFromFile=function(t){if(!this.Pt){this.Pt=document.createElement("input"),$(this.Pt).attr("type","file"),$(this.Pt).attr("accept","image/*"),$(this.Pt).attr("capture","camera"),$(this.Pt).css("display","none");const i=this;$(this.Pt).on("change",(function(){i.FindAreaFromImage(URL.createObjectURL(this.files[0]),t),$(i.Pt).remove(),i.Pt=null})),$(document.body).append(this.Pt)}$(this.Pt).click()},i.FindAreaFromImage=function(t,i){this.yt=i;const n=new Image;$(n).css("display","none"),$(n).attr("src",t);const s=this;$(n).on("load",(function(){const t=1280/(n.width>n.height?n.width:n.height);n.width*=t,n.height*=t;let i=null;try{const t=n,h=s.Y;s.$t=cv.imread(t),s.vt=new OZRecognitionPack(OZRecognitionPack.t),s.vt.SetResultMimeType(s.g),i=document.createElement("canvas"),i.width=t.width,i.height=t.height;const e=i.getContext("2d");s.Tt(n.width,n.height),e.drawImage(t,0,0,t.width,t.height),s.$t.data.set(e.getImageData(0,0,t.width,t.height).data),999==s.vt.N(h,i,s.$t,s.et,s.ot,s.lt,s.st,s.ht,!1,!1)?s.yt(!0):($(n).css("display",""),s.yt(!1,n)),s.$t.delete(),s.$t=null}catch(t){OZRecognitionPack.trace(t),$(n).css("display",""),s.yt(!1,n)}finally{s.$t&&(s.$t.delete(),s.$t=null),$(i).remove(),$(n).remove()}})),$(document.body).append(n)},i.UpdatePreviewSize=function(t,i){$(this.K).css("width",t),$(this.K).css("height",i);let n=0;n=t>i?.05*t:.05*i;let s=t-n,h=i-n;this.Ot=s,this.Zt=h;const e=$(this.K).children("div");e.css("width",Math.floor(s)),e.css("height",Math.floor(h)),s=Math.ceil(s),h=Math.ceil(h),$(this.dt).css("width",s).css("height",h),$(this.W).css("width",s).css("height",h),$(this.X).css("width",s).css("height",h),this.W.width=s,this.W.height=h,this.X.width=s,this.X.height=h,this.Ut(0)},i.GetUnmaskedImage=function(){return this.vt.GetPreprocessingImage()},i.GetMaskedImage=function(){return this.vt.GetPostprocessingImage()},i.SetResultMimeType=function(t){this.g=t},i.GetResultMimeType=function(){return this.vt.GetResultMimeType()},i.IsSupportPreview=function(t,i){if("https:"!==location.protocol||void 0===navigator.mediaDevices)OZRecognitionPack.trace("Current protocol is "+location.protocol),this.FindAreaFromFile(t);else{var n=this;navigator.mediaDevices.enumerateDevices().then((function(s){let h=!1;s.forEach((function(t){t.kind.startsWith("video")&&(h=!0)})),h?i():n.FindAreaFromFile(t)}))}},i.SetVideoMinResolution=function(t,i){if(isNaN(t)||isNaN(i))throw OZRecognitionPack.trace("Invalid Resolution Value"),new Error("Invalid Resolution Value");this.kt=t,this.Rt=i},i.SetForceCaptrue=function(t){this.tt=t},i.SetShowMaskGuide=function(t){this.it=t},i.SetJSONInfo=function(t){if(!t.size)throw OZRecognitionPack.trace("The size property is missing."),new Error(OZCardPreview.INVALID_SIZE_PROP);const i=t.size.split("x"),n=function(t){for(let i=0;i<t.length;i++)if(isNaN(t[i]))throw OZRecognitionPack.trace("The size property value can't be NaN"),new Error(OZCardPreview.INVALID_SIZE_PROP)};if(2!=i.length)throw OZRecognitionPack.trace("The size property can't be split into 2."),new Error(OZCardPreview.INVALID_SIZE_PROP);n(i);const s={};let h;if(s.M=i[0]/10,s.A=i[1]/10,t.margin){if(isNaN(t.margin))throw OZRecognitionPack.trace("The margin property value can't be NaN."),new Error(OZCardPreview.INVALID_MARGIN_PROP);h=t.margin/10}else h=0;s.j=h,s.item=[];for(let i=0;i<t.mask.length;i++){const h=t.mask[i].area.split(",");if(4!=h.length)throw OZRecognitionPack.trace("The mask property can't be split into 4."),new Error(OZCardPreview.INVALID_MASK_PROP);{n(h);const t={};t.left=h[0]/10,t.top=h[1]/10,t.width=h[2]/10,t.height=h[3]/10,s.item.push(t)}}this.et=s}}function OZCardRecognizer(){const t=OZCardRecognizer.prototype;t.ready=function(t,i,n,s,h){return this.jt=0,this.Vt=t,this.ot=n,this.lt=s,this.Lt=h,this.Dt=[],this.Ft=new cv.Mat,cv.pyrDown(i,this.Ft,new cv.Size(0,0),cv.BORDER_DEFAULT),cv.pyrDown(this.Ft,this.Ft,new cv.Size(0,0),cv.BORDER_DEFAULT),this.qt=.25,this.Bt=new cv.Mat,!0},t.dispose=function(){this.Bt&&(this.Bt.delete(),this.Bt=null),this.Ft&&(this.Ft.delete(),this.Ft=null),this.Vt=null,this.Dt=null},t.find=function(t){this.jt=t%3;var i=!1;return this.Lt?i=0==this.jt?this.Gt():1==this.jt?this.Ht():this.Jt():((i=this.Jt())||(i=this.Gt()),i||(i=this.Ht())),i},this.Gt=function(){return cv.GaussianBlur(this.Ft,this.Bt,new cv.Size(5,5),.1),this.Kt()},this.Ht=function(){return cv.GaussianBlur(this.Ft,this.Bt,new cv.Size(9,9),4),this.Kt()},this.Jt=function(){let t=this.Ft.rows,i=this.Ft.cols;(t>200||i>200)&&(cv.pyrDown(this.Ft,this.Ft,new cv.Size(0,0),cv.BORDER_DEFAULT),this.qt=.125,t=this.Ft.rows,i=this.Ft.cols);const n=new cv.Mat,s=new cv.Mat,h=new cv.Rect(i/40,t/40,i-i/40,t-t/40);return cv.cvtColor(this.Ft,this.Ft,cv.COLOR_RGBA2RGB,0),cv.grabCut(this.Ft,this.Bt,h,n,s,1,cv.GC_INIT_WITH_RECT),cv.convertScaleAbs(this.Bt,this.Bt,100,0),cv.threshold(this.Bt,this.Bt,200,255,cv.THRESH_BINARY),this.Kt()},t.Qt=function(t,i){return t.x<=i.x+i.width&&t.x>=i.x&&t.y<=i.y+i.height&&t.y>=i.y?1:-1},t.Wt=function(t,i,n){const s=cv.RotatedRect.points(t);let h=!1;for(let t=0;t<i.length;t+=2){let e={};e.x=i[t],e.y=i[t+1],this.Xt(e,s)&&(n.push(e),h||(h=!0))}return h},t.Kt=function(){let t,i,n;try{t=new cv.Mat,cv.Canny(this.Bt,t,40,40),i=new cv.MatVector,n=new cv.Mat,cv.findContours(t,i,n,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_NONE);for(let t=0;t<i.size();t++){let n=i.get(t),s=new cv.Mat;const h=cv.arcLength(n,!1);if(!(h<150)&&(cv.approxPolyDP(n,s,.02*h,!0),cv.isContourConvex(s)&&8==s.data32S.length)){const t=cv.minAreaRect(n),i=cv.RotatedRect.points(t),h=this.Yt(i);let e=!0;if(this.Lt)for(let t=0;t<this.ot.length;t++){if(this.Qt(h[t],this.ot[t])<0){e=!1;break}}if(e){const t=[];return t.push(new cv.Point(s.data32S[0],s.data32S[1])),t.push(new cv.Point(s.data32S[2],s.data32S[3])),t.push(new cv.Point(s.data32S[4],s.data32S[5])),t.push(new cv.Point(s.data32S[6],s.data32S[7])),this.Dt=this.Yt(t),!0}}}this.Dt=[]}catch(t){window.OZRecognitionPack.trace(t)}finally{t&&t.delete(),i&&i.delete(),n&&n.delete()}return!1},t.Yt=function(t){let i=99999,n=[0,1,2,3],s=0,h=0,e=0,c=0;for(let n=0;n<t.length;n++){let h=this.ti(0,0,t[n].x,t[n].y);i>h&&(i=h,s=n)}n.splice(n.indexOf(s),1);let o=99999,l=99999;for(let i=0;i<n.length;i++){const s=n[i];t[s].x<o&&(o=t[s].x,c=s),t[s].y<l&&(l=t[s].y,h=s)}n.splice(n.indexOf(c),1),n.splice(n.indexOf(h),1),e=n[0];const r=[];return r.push(new cv.Point(this.scale(t[s].x),this.scale(t[s].y))),r.push(new cv.Point(this.scale(t[h].x),this.scale(t[h].y))),r.push(new cv.Point(this.scale(t[e].x),this.scale(t[e].y))),r.push(new cv.Point(this.scale(t[c].x),this.scale(t[c].y))),r},t.scale=function(t){return t/this.qt},t.ti=function(t,i,n,s){const h=n-t,e=s-i;return Math.sqrt(h*h+e*e)},t.U=function(t,i){return parseInt(i/2.54*t)},t.ii=function(t,i,n,s,h=0,e=0){const c=h,o=e;let l=new cv.Mat.zeros(s,n,cv.CV_8UC3),r=null,u=null;try{r=cv.matFromArray(4,1,cv.CV_32FC2,[i[0].x,i[0].y,i[1].x,i[1].y,i[3].x,i[3].y,i[2].x,i[2].y]),u=cv.matFromArray(4,1,cv.CV_32FC2,[0-h,0-e,n+c,0-e,0-h,s+o,n+c,s+o]);const a=cv.getPerspectiveTransform(r,u);cv.warpPerspective(t,l,a,new cv.Size(n,s))}catch(t){window.OZRecognitionPack.trace(t)}finally{r.delete(),r=null,u.delete(),u=null}return l},t.capture=function(t,i,n,s,h){return this.ii(t,this.Dt,i,n,-s,-h)},t.T=function(t,i,n){return this.ii(t,this.lt,i,n)},t.ni=function(t){this.nt=t}}function OZSealPreview(t,i){const n=OZSealPreview.prototype;this.K=null,this.Y=t,this.si=i,this.rt={},this.ut=null,this.ft=null,this.vt=null,this.wt=!1,this.dt=null,this.gt=null,this.$t=null,this.yt=null,this.Ot=0,this.Zt=0,this.kt=1280,this.Rt=720,this.Pt=null,this.g="",this.hi=!1,this.ei=0,this.ci=0,n.Dispose=function(){this.bt(),this.K&&(this.dt=null,this.gt=null,$(this.K).remove(),this.K=null),this.vt&&(this.vt.dispose(),this.vt=null),this.$t&&(this.$t.delete(),this.$t=null),this.Y=null,this.si=null,this.rt=null,this.yt=null,this.hi=null,this.oi=null},n.It=function(){const t={audio:!1,video:{}};let i={exact:"environment"};this.wt&&(i="user"),t.video.facingMode=i;let n={},s={};n.min=this.kt,s.min=this.Rt,n.ideal=this.Ot,s.ideal=this.Zt,window.innerWidth>window.innerHeight?(t.video.width=n,t.video.height=s):(t.video.width=s,t.video.height=n),t.video.advanced=[{focusMode:"continuous"}],this.rt=t},n.xt=function(){this.It();const t=this;navigator.mediaDevices.getUserMedia(this.rt).then((function(i){if("srcObject"in t.dt)t.dt.srcObject=i;else{var n=window.URL||window.webkitURL;t.dt.src=n.createObjectURL(i)}t.ut=i.getVideoTracks(),t.dt.onloadedmetadata=function(i){t.dt.play(),t.dt.width=t.dt.videoWidth,t.dt.height=t.dt.videoHeight,t.li()}})).catch((function(i){t.wt?(OZRecognitionPack.trace(i.name+": "+i.message),t.FindSealFromFile(t.yt)):(t.wt=!0,t.xt())}))},n.li=function(){if(this.ri(!0),this.ut){var t=this.ut[0];if(t&&t.applyConstraints)if(!this.dt.paused&&!this.dt.ended){const t=1e3,i=this.dt,n=this.gt,s=this.gt.getContext("2d"),h=document.createElement("canvas");$(h).css("display","none");try{this.vt=new OZRecognitionPack(OZRecognitionPack.h),this.vt.SetResultMimeType(this.g);const e=this.Y,c=this.si,o=this.zt(i.videoWidth,i.videoHeight),l=o.Ct,r=o.Nt;n.width=o.Mt,n.height=o.At,this.$t=new cv.Mat(n.height,n.width,cv.CV_8UC4);const u=this;this.ft=setInterval((function(){s.drawImage(i,l,r,n.width,n.height,0,0,n.width,n.height),u.$t.data.set(s.getImageData(0,0,n.width,n.height).data);try{999==u.vt.V(e,n,h,u.$t,c,u.ei,u.ci)?(u.bt(),u.ri(!1),cv.imshow(n,u.$t),u.$t.delete(),u.$t=null,$(h).remove(),setTimeout((function(){$(u.K).css("display","none"),"function"==typeof u.yt&&u.yt(!0)}),1e3)):(u.vt.R()||u.vt.P()||u.vt.m())&&(cv.imshow(n,u.$t),u.ri(!1),i.pause(),setTimeout((function(){u.ri(!0),i.play()}),200))}catch(t){u.bt(),OZRecognitionPack.trace(t.name+": "+t.message),this.$t&&(this.$t.delete(),this.$t=null),$(h).remove()}}),t)}catch(t){OZRecognitionPack.trace(t.name+": "+t.message),this.$t&&(this.$t.delete(),this.$t=null),$(h).remove()}}}else OZRecognitionPack.trace("!videoTracks")},n.StartCapture=function(){this.bt(),this.ri(!0),this.xt()},n.StopCapture=function(){this.bt()},n.ri=function(t){t?($(this.gt).css("display","none"),$(this.dt).css("display","block")):($(this.gt).css("display","block"),$(this.dt).css("display","none"))},n.bt=function(){this.ft&&(clearInterval(this.ft),this.ft=null),this.ut&&(this.ut.forEach((function(t){t.stop()})),this.ut=null),this.dt&&("srcObject"in this.dt?this.dt.srcObject=null:this.dt.src=null)},n.ShowPreviewOn=function(t,i,n,s,h){if(this.yt=s,this.K=document.createElement("div"),$(this.K).css("width",i+"px"),$(this.K).css("height",n+"px"),$(this.K).css("display","flex"),h)this.Ot=i,this.Zt=n;else{let t=0;t=i>n?.05*i:.05*n,this.Ot=i-t,this.Zt=n-t}this.Ot=Math.round(this.Ot),this.Zt=Math.round(this.Zt);const e=document.createElement("div");$(e).css("border","1px solid black").css("overflow","hidden").css("margin","auto").css("background-color","black");const c=document.createElement("video");$(c).attr("playsinline",""),$(c).css("display","block").css("object-fit","cover").css("margin","auto").css("width",this.Ot+"px").css("height",this.Zt+"px"),this.dt=c;const o=document.createElement("canvas");return $(o).css("display","none").css("margin","auto").css("width",this.Ot+"px").css("height",this.Zt+"px"),$(e).append(c).append(o),$(this.K).append(e),this.gt=o,$(t).append(this.K),this.K},n.zt=function(t,i){const n={Ct:0,Nt:0};return n.Mt=t,n.At=i,t/this.Ot>i/this.Zt?(n.Mt=this.Ot*i/this.Zt,n.Ct+=(t-n.Mt)/2):(n.At=this.Zt*t/this.Ot,n.Nt+=(i-n.At)/2),n},n.IsShown=function(){return null!=this.K},n.FindSealFromFile=function(t){if(!this.Pt){this.Pt=document.createElement("input"),$(this.Pt).attr("type","file"),$(this.Pt).attr("accept","image/*"),$(this.Pt).attr("capture","camera"),$(this.Pt).css("display","none");const i=this;$(this.Pt).on("change",(function(){i.FindSealFromImage(URL.createObjectURL(this.files[0]),t),$(i.Pt).remove(),i.Pt=null})),$(document.body).append(this.Pt)}$(this.Pt).click()},n.FindSealFromImage=function(t,i){this.yt=i;const n=new Image;$(n).css("display","none"),$(n).attr("src",t);const s=this;$(n).on("load",(function(){const t=1280/(n.width>n.height?n.width:n.height);n.width*=t,n.height*=t;let i=null,h=null;try{const t=n,e=s.Y,c=s.si;s.$t=cv.imread(t),s.vt=new OZRecognitionPack(OZRecognitionPack.h),s.vt.SetResultMimeType(s.g),i=document.createElement("canvas"),i.width=t.width,i.height=t.height;const o=i.getContext("2d");h=document.createElement("canvas"),$(h).css("display","none"),o.drawImage(t,0,0,t.width,t.height),s.$t.data.set(o.getImageData(0,0,t.width,t.height).data),999==s.vt.V(e,i,h,s.$t,c,s.ei,s.ci)?($(s.K).css("display","none"),s.yt(!0)):($(n).css("display",""),s.yt(!1,n))}catch(t){OZRecognitionPack.trace(t),$(n).css("display",""),s.yt(!1,n)}finally{s.$t&&(s.$t.delete(),s.$t=null),$(h).remove(),$(i).remove(),$(n).remove()}})),$(document.body).append(n)},n.UpdatePreviewSize=function(t,i,n){if($(this.K).css("width",t+"px"),$(this.K).css("height",i+"px"),n)this.Ot=t,this.Zt=i;else{let n=0;n=t>i?.05*t:.05*i,this.Ot=t-n,this.Zt=i-n}const s=$(this.K).children("div");s.css("width",this.Ot+"px"),s.css("height",this.Zt+"px"),this.Ot=Math.round(this.Ot),this.Zt=Math.round(this.Zt),$(this.dt).css("width",this.Ot+"px").css("height",this.Zt+"px"),$(this.gt).css("width",this.Ot+"px").css("height",this.Zt+"px")},n.ui=function(t,i,n){return new Promise(((s,h)=>{if(t&&void 0!==i&&i>0&&n>0&&i!=n){const n=i/this.Y,e=new Image;e.onload=()=>{const t=document.createElement("canvas"),i=t.getContext("2d"),h=e.width*n,c=e.height*n;t.width=h,t.height=c,i.drawImage(e,0,0,h,c),s(t.toDataURL())},e.onerror=t=>h(t),e.src=t}else s(t)}))},n.GetPreprocessingImage=function(){return this.vt.GetPreprocessingImage()},n.GetPostprocessingImage=function(){return this.vt.GetPostprocessingImage()},n.GetResultImage=function(t){let i=this.vt.GetPostprocessingImage();return i||(i=this.GetPreprocessingImage()),this.ui(i,t,this.Y)},n.SetResultMimeType=function(t){this.g=t},n.GetResultMimeType=function(){return this.vt.GetResultMimeType()},n.GetSealSize=function(){return this.vt.GetSealSize()},n.IsSupportPreview=function(t,i){if("https:"!==location.protocol||void 0===navigator.mediaDevices)OZRecognitionPack.trace("Current protocol : "+location.protocol+", navigator.mediaDevices : "+navigator.mediaDevices),this.FindSealFromFile(t);else{if((-1!=navigator.userAgent.indexOf("iPhone")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("iPod"))&&-1!=navigator.userAgent.indexOf("Version/")){if(parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Version/")+8,4))<12.1)return void this.FindSealFromFile(t)}const n=this;navigator.mediaDevices.enumerateDevices().then((function(s){let h=!1;s.forEach((function(t){t.kind.startsWith("video")&&(h=!0)})),h?i():n.FindSealFromFile(t)}))}},n.SetVideoMinResolution=function(t,i){if(isNaN(t)||isNaN(i))throw OZRecognitionPack.trace("Invalid Resolution Value"),new Error("Invalid Resolution Value");this.kt=t,this.Rt=i},n.GetSpecBarcode=function(){return this.vt.GetSpecBarcode()},n.SetSpecBarcode=function(t,i){void 0!==t&&"number"==typeof t&&void 0!==i&&"number"==typeof i&&(this.ei=t,this.ci=i,this.hi=!0)}}function OZSealRecognizer(){const t=OZSealRecognizer.prototype;this.ai=new window.ZXing.BrowserMultiFormatReader((new Map).set(window.ZXing.DecodeHintType.POSSIBLE_FORMATS,[window.ZXing.BarcodeFormat.CODE_128]),0),t.ready=function(t,i,n,s){return this.Y=t,this.Vt=i,this.fi=n,this.vi=null,this.wi=[],this.p={},this.di=!1,this.gi=!1,this.pi=!1,this.hi=!1,this.$i=s,this.yi=null,this._=null,!0},t.dispose=function(){this._&&(this._.delete(),this._=null),this.$i=null,this.yi=null,this.Y=null,this.Vt=null,this.fi=null,this.vi=null,this.wi=null,this.p=null,this.di=null,this.gi=null,this.pi=null,this.hi=null,this.ai=null},t.Oi=function(){try{const t=new window.ZXing.HTMLCanvasElementLuminanceSource(this.Vt),i=new window.ZXing.HybridBinarizer(t);this.vi=new window.ZXing.BinaryBitmap(i)}catch(t){window.OZRecognitionPack.trace(t)}},t.L=function(){var t=[];if(this.Oi(),!this.Zi(t))return!1;if(t.length<12)return!1;if(!this.ki(t))return!1;this.yi=this.$i.clone();for(let t=0;t<4;t++)cv.line(this.$i,this.wi[t],this.wi[(t+1)%4],new cv.Scalar(0,255,64,255),2,cv.LINE_AA,0);if(!this.Ri())return!1;for(let t=0;t<4;t++)cv.line(this.$i,this.wi[t],this.wi[(t+1)%4],new cv.Scalar(255,100,0,255),2,cv.LINE_AA,0);return!0},t.Zi=function(t){try{const n=new window.OZSealRecognition.OZSealFinderPatternFinder(this.vi.getBlackMatrix());this.di=n.find(t);for(var i=0;i<t.length;i++)cv.circle(this.$i,new cv.Point(t[i].x,t[i].y),t[i].estimatedModuleSize,new cv.Scalar(255,196,50,255),t[i].estimatedModuleSize)}catch(t){window.OZRecognitionPack.trace(t)}return this.di},t.ki=function(t){if(t.length<3)return!1;let i,n=[];if(4!=n.length){n=[];for(let s=0;s<t.length;s++)i=t[s],this.Pi(t,s,5*i.estimatedModuleSize,8.5*i.estimatedModuleSize)>=2&&n.push(new cv.Point(i.x,i.y))}if(4!=n.length){n=[];for(let s=0;s<t.length;s++)i=t[s],this.Pi(t,s,5*i.estimatedModuleSize,7*i.estimatedModuleSize)>=2&&n.push(new cv.Point(i.x,i.y))}if(4!=n.length)return!1;let s=null,h=null;try{s=new cv.Mat,h=cv.matFromArray(4,1,cv.CV_32FC2,[n[0].x,n[0].y,n[1].x,n[1].y,n[2].x,n[2].y,n[3].x,n[3].y]),cv.convexHull(h,s),cv.approxPolyDP(s,s,.007*cv.arcLength(s,!0)*2,!0);let t=s.data32F.length;if(t>=4){let i=99999,n=0;for(let h=0;h<t;h+=2){let t=this.ti(0,0,s.data32F[h],s.data32F[h+1]);i>t&&(i=t,n=h)}return this.wi=[],this.wi.push(new cv.Point(s.data32F[(n+0)%8],s.data32F[(n+1)%8])),this.wi.push(new cv.Point(s.data32F[(n+2)%8],s.data32F[(n+3)%8])),this.wi.push(new cv.Point(s.data32F[(n+4)%8],s.data32F[(n+5)%8])),this.wi.push(new cv.Point(s.data32F[(n+6)%8],s.data32F[(n+7)%8])),this.gi=!0,!0}}catch(t){window.OZRecognitionPack.trace(t)}finally{s.delete(),s=null,h.delete(),h=null}return!1},t.ti=function(t,i,n,s){const h=n-t,e=s-i;return Math.sqrt(h*h+e*e)},t.Pi=function(t,i,n,s){const h=t[i];let e=0;for(let c=0;c<t.length;c++){if(c==i)continue;const o=t[c],l=this.ti(h.x,h.y,o.x,o.y);l>=n&&l<=s&&e++}return e},t.Ri=function(){let t=null,i=null,n=new cv.Mat;cv.cvtColor(this.yi,n,cv.COLOR_RGBA2GRAY);try{for(let s=0;s<4;s++){i=this.ii(n,300,3.6,3.6,2.2,.4,0,3.6),cv.adaptiveThreshold(i,i,255,cv.ADAPTIVE_THRESH_MEAN_C,cv.THRESH_BINARY,65,30),this.fi.width=i.cols,this.fi.height=i.rows,cv.imshow(this.fi,i),i.delete(),i=null;const s=new window.ZXing.HTMLCanvasElementLuminanceSource(this.fi),h=new window.ZXing.HybridBinarizer(s),e=new window.ZXing.BinaryBitmap(h);if(this.hi)return!0;try{if(t=this.ai.decodeBitmap(e),t&&this.bi(t.text))return this.pi=!0,!0}catch(t){}this.mi()}}catch(t){window.OZRecognitionPack.trace(t)}finally{t&&(t=null),i&&(i.delete(),i=null),n&&(n.delete(),n=null)}return!!this.hi},t.mi=function(){let t=[];for(let i=0;i<this.wi.length;i++)t.push(this.wi[i]);for(let i=1;i<this.wi.length;i++)this.wi[i]=t[i-1];this.wi[0]=t[this.wi.length-1]},t.bi=function(t){const i=t.charAt(0),n=t.charAt(1),s=t.length;if(s<=2)return!1;if(s!=2+2*i)return!1;const h=t.substr(2,i)*n/10,e=t.substr(2+parseInt(i),i)*n/10;return this.p.paperWidth=h,this.p.areaWidth=e,!0},t.U=function(t,i){return i/2.54*t},t.ii=function(t,i,n,s,h,e,c=0,o=0){const l=this.U(i,h),r=this.U(i,e);let u=new cv.Mat.zeros(l,r,cv.CV_8UC3);const a=this.U(i,(n-h+c)/2),f=this.U(i,(s-e+o)/2),v=this.U(i,(n-h-c)/2),w=this.U(i,(s-e-o)/2);let d=null,g=null;try{d=cv.matFromArray(4,1,cv.CV_32FC2,[this.wi[0].x,this.wi[0].y,this.wi[1].x,this.wi[1].y,this.wi[3].x,this.wi[3].y,this.wi[2].x,this.wi[2].y]),g=cv.matFromArray(4,1,cv.CV_32FC2,[0-a,0-f,l+v,0-f,0-a,r+w,l+v,r+w]);const i=cv.getPerspectiveTransform(d,g);cv.warpPerspective(t,u,i,new cv.Size(l,r))}catch(t){window.OZRecognitionPack.trace(t)}finally{d.delete(),d=null,g.delete(),g=null}return u},t.capture=function(){if(this.di&&this.gi&&this.pi){const t=this.p.areaWidth,i=this.p.paperWidth;return this._=this.ii(this.$i,this.Y,i,i,t,t),!0}return!1},t.D=function(){return this._},t.k=function(t,i){void 0!==t&&"number"==typeof t&&void 0!==i&&"number"==typeof i&&(this.p.paperWidth=t/10,this.p.areaWidth=i/10,this.pi=!0,this.hi=!0)},t.F=function(){return this.p},t.R=function(){return this.di},t.P=function(){return this.gi},t.m=function(){return this.pi}}OZRecognitionPack.trace=function(t){if(void 0!==window.__oz_recog_debug__&&window.__oz_recog_debug__){const i="[OZ TRACE] "+t;if(0==$("#oz_recog_debug").length)console.log(i);else{const t=$("#oz_recog_debug").val();t.length>1e3?$("#oz_recog_debug").val(i):$("#oz_recog_debug").val(t+"\n"+i)}}},OZRecognitionPack.h=4,OZRecognitionPack.t=7,OZCardPreview.INVALID_SIZE_PROP=0,OZCardPreview.INVALID_MARGIN_PROP=1,OZCardPreview.INVALID_MASK_PROP=2,OZSealRecognizer.NONE=0,OZSealRecognizer.q=1,OZSealRecognizer.G=2,OZSealRecognizer.J=3,OZSealRecognizer.B=4,OZSealRecognizer.H=5;((t,e)=>{"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("OZSealRecognition",[],e):"object"==typeof exports?exports.OZSealRecognition=e():t.OZSealRecognition=e()})(window,(function(){return e=[function(t,e,r){var n,o,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}))(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),r=r(10),i(a,o=r.CustomError),r=a;function a(t){var e=o.call(this,t=void 0===t?void 0:t)||this;return e.message=t,e}e.default=r},function(t,e,r){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=(Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSetValueIdentifiers=void 0,r(13)),i=((i=r=e.CharacterSetValueIdentifiers||(e.CharacterSetValueIdentifiers={}))[i.Cp437=0]="Cp437",i[i.ISO8859_1=1]="ISO8859_1",i[i.ISO8859_2=2]="ISO8859_2",i[i.ISO8859_3=3]="ISO8859_3",i[i.ISO8859_4=4]="ISO8859_4",i[i.ISO8859_5=5]="ISO8859_5",i[i.ISO8859_6=6]="ISO8859_6",i[i.ISO8859_7=7]="ISO8859_7",i[i.ISO8859_8=8]="ISO8859_8",i[i.ISO8859_9=9]="ISO8859_9",i[i.ISO8859_10=10]="ISO8859_10",i[i.ISO8859_11=11]="ISO8859_11",i[i.ISO8859_13=12]="ISO8859_13",i[i.ISO8859_14=13]="ISO8859_14",i[i.ISO8859_15=14]="ISO8859_15",i[i.ISO8859_16=15]="ISO8859_16",i[i.SJIS=16]="SJIS",i[i.Cp1250=17]="Cp1250",i[i.Cp1251=18]="Cp1251",i[i.Cp1252=19]="Cp1252",i[i.Cp1256=20]="Cp1256",i[i.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",i[i.UTF8=22]="UTF8",i[i.ASCII=23]="ASCII",i[i.Big5=24]="Big5",i[i.GB18030=25]="GB18030",i[i.EUC_KR=26]="EUC_KR",a.prototype.getValueIdentifier=function(){return this.valueIdentifier},a.prototype.getName=function(){return this.name},a.prototype.getValue=function(){return this.values[0]},a.getCharacterSetECIByValue=function(t){if(t<0||900<=t)throw new o.default("incorect value");if(void 0===(t=a.VALUES_TO_ECI.get(t)))throw new o.default("incorect value");return t},a.getCharacterSetECIByName=function(t){if(void 0===(t=a.NAME_TO_ECI.get(t)))throw new o.default("incorect value");return t},a.prototype.equals=function(t){return t instanceof a&&(t=t,this.getName()===t.getName())},a.VALUE_IDENTIFIER_TO_ECI=new Map,a.VALUES_TO_ECI=new Map,a.NAME_TO_ECI=new Map,a.Cp437=new a(r.Cp437,Int32Array.from([0,2]),"Cp437"),a.ISO8859_1=new a(r.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),a.ISO8859_2=new a(r.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),a.ISO8859_3=new a(r.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),a.ISO8859_4=new a(r.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),a.ISO8859_5=new a(r.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),a.ISO8859_6=new a(r.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),a.ISO8859_7=new a(r.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),a.ISO8859_8=new a(r.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),a.ISO8859_9=new a(r.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),a.ISO8859_10=new a(r.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),a.ISO8859_11=new a(r.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),a.ISO8859_13=new a(r.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),a.ISO8859_14=new a(r.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),a.ISO8859_15=new a(r.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),a.ISO8859_16=new a(r.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),a.SJIS=new a(r.SJIS,20,"SJIS","Shift_JIS"),a.Cp1250=new a(r.Cp1250,21,"Cp1250","windows-1250"),a.Cp1251=new a(r.Cp1251,22,"Cp1251","windows-1251"),a.Cp1252=new a(r.Cp1252,23,"Cp1252","windows-1252"),a.Cp1256=new a(r.Cp1256,24,"Cp1256","windows-1256"),a.UnicodeBigUnmarked=new a(r.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),a.UTF8=new a(r.UTF8,26,"UTF8","UTF-8"),a.ASCII=new a(r.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),a.Big5=new a(r.Big5,28,"Big5"),a.GB18030=new a(r.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),a.EUC_KR=new a(r.EUC_KR,30,"EUC_KR","EUC-KR"),a);function a(t,e,r){for(var o,i,u=[],s=3;s<arguments.length;s++)u[s-3]=arguments[s];this.valueIdentifier=t,this.name=r,this.values="number"==typeof e?Int32Array.from([e]):e,this.otherEncodingNames=u,a.VALUE_IDENTIFIER_TO_ECI.set(t,this),a.NAME_TO_ECI.set(r,this);for(var c=this.values,f=0,l=c.length;f!==l;f++){var d=c[f];a.VALUES_TO_ECI.set(d,this)}try{for(var _=n(u),p=_.next();!p.done;p=_.next()){var h=p.value;a.NAME_TO_ECI.set(h,this)}}catch(t){o={error:t}}finally{try{p&&!p.done&&(i=_.return)&&i.call(_)}finally{if(o)throw o.error}}}e.default=i},function(t,e,r){t.exports=r(3)},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(4),o=(Object.defineProperty(e,"OZSealFinderPatternFinder",{enumerable:!0,get:function(){return n.default}}),r(11));Object.defineProperty(e,"StringUtils",{enumerable:!0,get:function(){return o.default}})},function(t,e,r){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=(Object.defineProperty(e,"__esModule",{value:!0}),r(5)),i=r(9);function a(t){this.image=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5)}a.prototype.getImage=function(){return this.image},a.prototype.getPossibleCenters=function(){return this.possibleCenters},a.prototype.find=function(t){for(var e=this.image,r=e.getHeight(),n=e.getWidth(),o=Math.floor(3*r/(4*a.MAX_MODULES)),i=(o<a.MIN_SKIP&&(o=a.MIN_SKIP),new Int32Array(5)),u=o-1;u<r;u+=o){i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=i[4]=0,c=0;c<n;c++)e.get(c,u)?(1==(1&s)&&s++,i[s]++):0==(1&s)?4===s?a.foundPatternCross(i)&&!0===this.handlePossibleCenter(i,u,c)?(o=2,this.hasSkipped,i[s=0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0):(i[0]=i[2],i[1]=i[3],i[2]=i[4],i[3]=1,i[4]=0,s=3):i[++s]++:i[s]++;a.foundPatternCross(i)&&!0===this.handlePossibleCenter(i,u,n)&&(o=i[0],this.hasSkipped)}if(0<this.possibleCenters.length)for(u=0;u<this.possibleCenters.length;u++)t.push(this.possibleCenters[u]);return 0<t.length},a.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},a.foundPatternCross=function(t){for(var e,r,n=0,o=0;o<5;o++){var i=t[o];if(0===i)return!1;n+=i}return!(n<7)&&(r=(e=n/7)/2,Math.abs(e-t[0])<r)&&Math.abs(e-t[1])<r&&Math.abs(3*e-t[2])<3*r&&Math.abs(e-t[3])<r&&Math.abs(e-t[4])<r},a.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},a.prototype.crossCheckDiagonal=function(t,e,r,n){for(var o=this.getCrossCheckStateCount(),i=0,u=this.image;i<=t&&i<=e&&u.get(e-i,t-i);)o[2]++,i++;if(t<i||e<i)return!1;for(;i<=t&&i<=e&&!u.get(e-i,t-i)&&o[1]<=r;)o[1]++,i++;if(t<i||e<i||o[1]>r)return!1;for(;i<=t&&i<=e&&u.get(e-i,t-i)&&o[0]<=r;)o[0]++,i++;if(o[0]>r)return!1;var s,c=u.getHeight(),f=u.getWidth();for(i=1;t+i<c&&e+i<f&&u.get(e+i,t+i);)o[2]++,i++;if(c<=t+i||f<=e+i)return!1;for(;t+i<c&&e+i<f&&!u.get(e+i,t+i)&&o[3]<r;)o[3]++,i++;if(c<=t+i||f<=e+i||o[3]>=r)return!1;for(;t+i<c&&e+i<f&&u.get(e+i,t+i)&&o[4]<r;)o[4]++,i++;return!(o[4]>=r)&&(s=o[0]+o[1]+o[2]+o[3]+o[4],Math.abs(s-n)<2*n)&&a.foundPatternCross(o)},a.prototype.crossCheckVertical=function(t,e,r,n){for(var o=this.image,i=o.getHeight(),u=this.getCrossCheckStateCount(),s=t;0<=s&&o.get(e,s);)u[2]++,s--;if(s<0)return NaN;for(;0<=s&&!o.get(e,s)&&u[1]<=r;)u[1]++,s--;if(s<0||u[1]>r)return NaN;for(;0<=s&&o.get(e,s)&&u[0]<=r;)u[0]++,s--;if(u[0]>r)return NaN;for(s=t+1;s<i&&o.get(e,s);)u[2]++,s++;if(s===i)return NaN;for(;s<i&&!o.get(e,s)&&u[3]<r;)u[3]++,s++;if(s===i||u[3]>=r)return NaN;for(;s<i&&o.get(e,s)&&u[4]<r;)u[4]++,s++;return r<=u[4]||5*Math.abs(u[0]+u[1]+u[2]+u[3]+u[4]-n)>=2*n||!a.foundPatternCross(u)?NaN:a.centerFromEnd(u,s)},a.prototype.crossCheckHorizontal=function(t,e,r,n){for(var o=this.image,i=o.getWidth(),u=this.getCrossCheckStateCount(),s=t;0<=s&&o.get(s,e);)u[2]++,s--;if(s<0)return NaN;for(;0<=s&&!o.get(s,e)&&u[1]<=r;)u[1]++,s--;if(s<0||u[1]>r)return NaN;for(;0<=s&&o.get(s,e)&&u[0]<=r;)u[0]++,s--;if(u[0]>r)return NaN;for(s=t+1;s<i&&o.get(s,e);)u[2]++,s++;if(s===i)return NaN;for(;s<i&&!o.get(s,e)&&u[3]<r;)u[3]++,s++;if(s===i||u[3]>=r)return NaN;for(;s<i&&o.get(s,e)&&u[4]<r;)u[4]++,s++;return r<=u[4]||5*Math.abs(u[0]+u[1]+u[2]+u[3]+u[4]-n)>=n||!a.foundPatternCross(u)?NaN:a.centerFromEnd(u,s)},a.prototype.handlePossibleCenter=function(t,e,r){var n=t[0]+t[1]+t[2]+t[3]+t[4],i=a.centerFromEnd(t,r),u=this.crossCheckVertical(e,Math.floor(i),t[2],n);if(isNaN(u)||(i=this.crossCheckHorizontal(Math.floor(i),Math.floor(u),t[2],n),isNaN(i))||!this.crossCheckDiagonal(Math.floor(u),Math.floor(i),t[2],n))return!1;for(var s=n/7,c=!1,f=this.possibleCenters,l=0,d=f.length;l<d;l++){var _=f[l];if(_.aboutEquals(s,u,i)){f[l]=_.combineEstimate(u,i,s),c=!0;break}}return c||(r=new o.default(i,u,s),f.push(r)),!0},a.prototype.findRowSkip=function(){var t,e;if(!(this.possibleCenters.length<=1)){var r=null;try{for(var o=n(this.possibleCenters),i=o.next();!i.done;i=o.next()){var u=i.value;if(u.getCount()>=a.CENTER_QUORUM){if(null!=r)return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-u.getX())-Math.abs(r.getY()-u.getY()))/2);r=u}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}return 0},a.prototype.haveMultiplyConfirmedCenters=function(){var t,e,r,o,i=0,u=0,s=this.possibleCenters.length;try{for(var c=n(this.possibleCenters),f=c.next();!f.done;f=c.next())(h=f.value).getCount()>=a.CENTER_QUORUM&&(i++,u+=h.getEstimatedModuleSize())}catch(e){t={error:e}}finally{try{f&&!f.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}if(i<3)return!1;var l=u/s,d=0;try{for(var _=n(this.possibleCenters),p=_.next();!p.done;p=_.next()){var h=p.value;d+=Math.abs(h.getEstimatedModuleSize()-l)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=_.return)&&o.call(_)}finally{if(r)throw r.error}}return d<=.05*u},a.prototype.selectBestPatterns=function(){var t,e,r,o=this.possibleCenters.length;if(o<3)throw new i.default;var a=this.possibleCenters;if(3<o){var u=0,s=0;try{for(var c=n(this.possibleCenters),f=c.next();!f.done;f=c.next()){var l=f.value.getEstimatedModuleSize();u+=l,s+=l*l}}catch(r){t={error:r}}finally{try{f&&!f.done&&(_=c.return)&&_.call(c)}finally{if(t)throw t.error}}for(var d=u/o,_=Math.sqrt(s/o-d*d),p=(a.sort((function(t,e){return(e=Math.abs(e.getEstimatedModuleSize()-d))<(t=Math.abs(t.getEstimatedModuleSize()-d))?-1:t<e?1:0})),Math.max(.2*d,_)),h=0;h<a.length&&3<a.length;h++){var S=a[h];Math.abs(S.getEstimatedModuleSize()-d)>p&&(a.splice(h,1),h--)}}if(3<a.length){u=0;try{for(var I=n(a),O=I.next();!O.done;O=I.next())u+=O.value.getEstimatedModuleSize()}catch(r){e={error:r}}finally{try{O&&!O.done&&(r=I.return)&&r.call(I)}finally{if(e)throw e.error}}d=u/a.length,a.sort((function(t,e){var r,n;return e.getCount()===t.getCount()?(r=Math.abs(e.getEstimatedModuleSize()-d))<(n=Math.abs(t.getEstimatedModuleSize()-d))?1:n<r?-1:0:e.getCount()-t.getCount()})),a.splice(3)}return[a[0],a[1],a[2]]},a.CENTER_QUORUM=2,a.MIN_SKIP=3,a.MAX_MODULES=57,e.default=a},function(t,e,r){var n,o,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}))(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),r=r(6),i(a,o=r.default),a.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},a.prototype.getCount=function(){return this.count},a.prototype.aboutEquals=function(t,e,r){return Math.abs(e-this.getY())<=t&&Math.abs(r-this.getX())<=t&&((e=Math.abs(t-this.estimatedModuleSize))<=1||e<=this.estimatedModuleSize)},a.prototype.combineEstimate=function(t,e,r){var n=this.count+1;return new a((this.count*this.getX()+e)/n,(this.count*this.getY()+t)/n,(this.count*this.estimatedModuleSize+r)/n,n)},r=a;function a(t,e,r,n){return(t=o.call(this,t,e)||this).estimatedModuleSize=r,void 0===(t.count=n)&&(t.count=1),t}e.default=r},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(7),o=r(8);function i(t,e){this.x=t,this.y=e}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.equals=function(t){return t instanceof i&&this.x===t.x&&this.y===t.y},i.prototype.hashCode=function(){return 31*o.default.floatToIntBits(this.x)+o.default.floatToIntBits(this.y)},i.prototype.toString=function(){return"("+this.x+","+this.y+")"},i.orderBestPatterns=function(t){var e,r,n=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),i=this.distance(t[0],t[2]);o=n<=o&&i<=o?(e=t[0],r=t[1],t[2]):o<=i&&n<=i?(e=t[1],r=t[0],t[2]):(e=t[2],r=t[0],t[1]),this.crossProductZ(r,e,o)<0&&(n=r,r=o,o=n),t[0]=r,t[1]=e,t[2]=o},i.distance=function(t,e){return n.default.distance(t.x,t.y,e.x,e.y)},i.crossProductZ=function(t,e,r){var n=e.x;e=e.y;return(r.x-n)*(t.y-e)-(r.y-e)*(t.x-n)},e.default=i},function(t,e,r){function n(){}Object.defineProperty(e,"__esModule",{value:!0}),n.prototype.MathUtils=function(){},n.round=function(t){return NaN===t?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER<=t?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},n.distance=function(t,e,r,n){return t-=r,r=e-n,Math.sqrt(t*t+r*r)},n.sum=function(t){for(var e=0,r=0,n=t.length;r!==n;r++)e+=t[r];return e},e.default=n},function(t,e,r){function n(){}Object.defineProperty(e,"__esModule",{value:!0}),n.floatToIntBits=function(t){return t},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,e.default=n},function(t,e,r){var n,o,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}))(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),r=r(0),i(a,o=r.default),a.getNotFoundInstance=function(){return new a},r=a;function a(){return null!==o&&o.apply(this,arguments)||this}e.default=r},function(t,e,r){function n(t,e){void 0===e&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}r.r(e),r.d(e,"CustomError",(function(){return a})),r.d(e,"customErrorFactory",(function(){return c})),o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}))(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(u,i=Error);var o,i,a=u;function u(t,e){var r,o=this.constructor;t=i.call(this,t,e)||this;return Object.defineProperty(t,"name",{value:o.name,enumerable:!1,configurable:!0}),e=t,o=o.prototype,(r=Object.setPrototypeOf)?r(e,o):e.__proto__=o,n(t),t}var s=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||((n=n||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};function c(t,e){function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(!(this instanceof r))return new(r.bind.apply(r,s([void 0],o,!1)));e.apply(this,o),Object.defineProperty(this,"name",{value:t.name||e.name,enumerable:!1,configurable:!0}),t.apply(this,o),n(this,r)}return void 0===e&&(e=Error),Object.defineProperties(r,{prototype:{value:Object.create(e.prototype,{constructor:{value:r,writable:!0,configurable:!0}})}})}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(12),o=r(1),i=r(14);function a(){}a.castAsNonUtf8Char=function(t,e){return e=(e=void 0===e?null:e)?e.getName():this.ISO88591,i.default.decode(new Uint8Array([t]),e)},a.guessEncoding=function(t,e){if(null!=e&&void 0!==e.get(n.default.CHARACTER_SET))return e.get(n.default.CHARACTER_SET).toString();for(var r=t.length,o=!0,i=!0,u=!0,s=0,c=0,f=0,l=0,d=0,_=0,p=0,h=0,S=0,I=0,O=0,y=(e=3<t.length&&239===t[0]&&187===t[1]&&191===t[2],0);y<r&&(o||i||u);y++){var g=255&t[y];u&&(0<s?0==(128&g)?u=!1:s--:0!=(128&g)&&(0==(64&g)?u=!1:(s++,0==(32&g)?c++:(s++,0==(16&g)?f++:(s++,0==(8&g)?l++:u=!1))))),o&&(127<g&&g<160?o=!1:159<g&&(g<192||215==g||247==g)&&O++),i&&(0<d?g<64||127==g||252<g?i=!1:d--:128==g||160==g||239<g?i=!1:160<g&&g<224?(_++,h=0,S<++p&&(S=p)):127<g?(d++,p=0,I<++h&&(I=h)):h=p=0)}return i&&0<d&&(i=!1),(u=!(u&&0<s)&&u)&&(e||0<c+f+l)?a.UTF8:i&&(a.ASSUME_SHIFT_JIS||3<=S||3<=I)?a.SHIFT_JIS:o&&i?2===S&&2===_||r<=10*O?a.SHIFT_JIS:a.ISO88591:o?a.ISO88591:i?a.SHIFT_JIS:u?a.UTF8:a.PLATFORM_DEFAULT_ENCODING},a.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(t,r,o,i,a,u){if("%%"===t)return"%";if(void 0!==e[++n]){t=i?parseInt(i.substr(1)):void 0;var s=a?parseInt(a.substr(1)):void 0;switch(u){case"s":c=e[n];break;case"c":c=e[n][0];break;case"f":c=parseFloat(e[n]).toFixed(t);break;case"p":c=parseFloat(e[n]).toPrecision(t);break;case"e":c=parseFloat(e[n]).toExponential(t);break;case"x":c=parseInt(e[n]).toString(s||16);break;case"d":c=parseFloat(parseInt(e[n],s||10).toPrecision(t)).toFixed(0)}for(var c="object"==typeof c?JSON.stringify(c):(+c).toString(s),f=parseInt(o),l=o&&o[0]+""=="0"?"0":" ";c.length<f;)c=void 0!==r?c+l:l+c;return c}}))},a.getBytes=function(t,e){return i.default.encode(t,e)},a.getCharCode=function(t,e){return t.charCodeAt(e=void 0===e?0:e)},a.getCharAt=function(t){return String.fromCharCode(t)},a.SHIFT_JIS=o.default.SJIS.getName(),a.GB2312="GB2312",a.ISO88591=o.default.ISO8859_1.getName(),a.EUC_JP="EUC_JP",a.UTF8=o.default.UTF8.getName(),a.PLATFORM_DEFAULT_ENCODING=a.UTF8,a.ASSUME_SHIFT_JIS=!1,e.default=a},function(t,e,r){var n,o;Object.defineProperty(e,"__esModule",{value:!0}),(o=n=n||{})[o.OTHER=0]="OTHER",o[o.PURE_BARCODE=1]="PURE_BARCODE",o[o.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",o[o.TRY_HARDER=3]="TRY_HARDER",o[o.CHARACTER_SET=4]="CHARACTER_SET",o[o.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",o[o.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",o[o.ASSUME_GS1=7]="ASSUME_GS1",o[o.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",o[o.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",o[o.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",e.default=n},function(t,e,r){var n,o,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}))(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),r=r(0),i(a,o=r.default),a.getFormatInstance=function(){return new a},r=a;function a(){return null!==o&&o.apply(this,arguments)||this}e.default=r},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(15),o=r(1);function i(){}i.decode=function(t,e){return e=this.encodingName(e),this.customDecoder?this.customDecoder(t,e):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(e)?this.decodeFallback(t,e):new TextDecoder(e).decode(t)},i.shouldDecodeOnFallback=function(t){return!i.isBrowser()&&"ISO-8859-1"===t},i.encode=function(t,e){return e=this.encodingName(e),this.customEncoder?this.customEncoder(t,e):"undefined"==typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t)},i.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)},i.encodingName=function(t){return"string"==typeof t?t:t.getName()},i.encodingCharacterSet=function(t){return t instanceof o.default?t:o.default.getCharacterSetECIByName(t)},i.decodeFallback=function(t,e){var r=this.encodingCharacterSet(e);if(i.isDecodeFallbackSupported(r)){for(var a="",u=0,s=t.length;u<s;u++){var c=t[u].toString(16);a+="%"+(c=c.length<2?"0"+c:c)}return decodeURIComponent(a)}if(r.equals(o.default.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new n.default("Encoding "+this.encodingName(e)+" not supported by fallback.")},i.isDecodeFallbackSupported=function(t){return t.equals(o.default.UTF8)||t.equals(o.default.ISO8859_1)||t.equals(o.default.ASCII)},i.encodeFallback=function(t){for(var e=btoa(unescape(encodeURIComponent(t))).split(""),r=[],n=0;n<e.length;n++)r.push(e[n].charCodeAt(0));return new Uint8Array(r)},e.default=i},function(t,e,r){var n,o,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}))(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),r=r(0),i(a,o=r.default),r=a;function a(){return null!==o&&o.apply(this,arguments)||this}e.default=r}],r={},t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=2);function t(n){var o;return(r[n]||(o=r[n]={i:n,l:!1,exports:{}},e[n].call(o.exports,o,o.exports,t),o.l=!0,o)).exports}var e,r}));window['OZRecognitionVersion']='2025.09.26.100'; 
